---
layout : post
title : biz_statistics_two sample tests of hypothesis
categories : - Data Science
tags : - Basic statistics
---

## One sample test (저번장에서 했음)

1. 모집단의 평균이 이럴걸? 에 대한 가설검정
- 분산 알면 z분포
- 모르면 t분포

2. 모집단의 분산이 이럴걸? 에 대한 가설검정
- 카이스퀘어 분포


## Two sample test

- 두개의 독립된 집단의 모집단의 표준편차를 알때, 평균 값에 대하여 비교
- 두 집단의 모비율이 같은지에 대한 가설검정을 수행할 수 있다.
- 두개의 독립된 집단의 모집단의 표준편차를 같다고 가정하고(값은 모름), 두 모집단의 평균값에 대해서 비교
- 독립 표본 추출과 비독립 표본 추출에 대한 구분
- 비독립 표본추출을 한 두 집단의 평균 비교
- 두집단의 분산을 비교하는 가설검정 (F분포)

## 두 집단을 비교하는 경우
- Is there a difference in the mean value of residential real estate sold by male agents and 
female agents in south korea?
- Is there a difference in the mean number of defects produced during the day and the 
afternoon shifts at Kimble Products?
- Is there a difference in the mean number of days absent between young workers and older workers 
in the fast-food industry?
- Is there is a difference in the proportion of A univ and B univ who pass the CPA Examination on 
their first attempt?
- Is there an increase in the production rate if music is piped into the production area?
- 두개 공장의 임직원들 중 5일 이상 결근자의 비율을 비교
- GM 이 폰티악 새 모델을 출시할 때 30세 미만과 60세 초과 연령의 호감도 비교


## 두 모집단의 평균 비교 : 모분산을 알 때

최근에 도입된 셀프 계산대가 있습니다. 캐셔를 이용할 시 평균 5.5분 표준편차 0.4분 50개의 샘플 / 
스캐너를 이용시 평균 5.3분 표준편차 0.3분 100개의 샘플을 통해 두 모집단간 차이가 있는지 알아보고자 합니다.
(스캐너u2가 캐셔u1보다 시간이 덜 걸리냐?)

1. 가설 설립
- h0 : u1 <= u2
- h1 : u1 > u2

2. 유의수준
0.01

3. test statistic
모집단의 분산을 알기 때문에 z분포

4. decision rule
단측검정, z(0.01)= 2.326

5. 계산, 비교
```
Z = (5.5 - 5.3) / sqrt( 0.16/50 + 0.09/100 ) = 3.13  
h0를 기각하고 h1를 받아들이자. 스캐너를 활용한 셀프 계산이 더 빠르다!
```

## 두 집단의 평균 비교 : 모분산을 모를때

- 가정 : 두 모집단은 같은 표준편차를 가진다(이걸 안하면 문과생의 수준을 넘어감..ㅠㅠ)
1. 두 집단의 통합 표준편차를 구한다.
2. 통합표준편차를 활용해서 t-value를 계산  


잔디깎는 기계 만드는 회사가 있다. 5명의 작업자일때는 A방법으로 만들고 6명의 작업자일때는 B방법으로 만든다.
두 방법에 따라 만드는 시간에 차이가 있을까?

1. 가설 설립
- H0: u1 = u2
- H1: u1 != u2

2. 유의수준
0.1

3. 검정통계량
n자체도 적고 모분산도 모르니까 t분포

4. 디시젼룰
같냐 다르냐니까 양측검정, 자유도는 11-2=9. t=+-1.83

5. 계산(엑셀)
t= -0.662로 들어감 reject 불가. 차이 있다고 말할 수 없다.


## 두 표본집단의 비율 비교
향수회사에서 새 제품을 냈습니다. YOUNGER / OLDER 고객 간 설문조사를 했는데요. 호감도의 차이가 있을까요?  
100명의 young한 친구들 중 19명이 좋아했고 200명의 old한 친구님들 중 62명이 좋아했습니다. 

1. 가설 설립
- H0 : 파이1 = 파이2
- H1 = 파이1 != 파이2

2. 유의수준 설정
0.05

3. 검정 통계량
비율이니까 데이터가 충분하다고 가정하고 z-분포

4. 기각기준 설정
0.05를 z로 양측검정 = +-1.96

5. 계산, 비교
```
p1= 0.19 / p2= 0.31 / pc = 81/300 = 0.27  
z= (0.19 - 0.31) / sqrt( (0.27)(1-0.27)/100 + (0.27)(1-0.27)/200) = =2.21  
기각이므로 두 집단의 선호도가 다르다는 것을 알 수 있다.
```


## 비독립 표본추출이란?

- 비독립 표본추출이란 특정 인자의 영향도를 측정하기 위한 방법을 주로 쓰임 (전과 후의 비교)
- 1:1로 쌍을 맺어서 비교하는 방법임
- 예 : 다이어트 하기 전과 후의 차이 비교

1. 가설 수립
- H0 : 전후 차이의 u = 0 
- H0 : 전후 차이의 u != 0 

2. 유의수준
.05

3. 검정 통계량
n이 10이므로 t-test(자유도 9)

4. 디시젼 룰
t= 2.2

5. 계산
t= 3.305 -> 양수로나온 걸 보니 후가 더 몸무게가 큰것같다.



## 두 모집단의 분산 비교( F분포 )

분산이 중요한 이유는 분산이 작아져야 문제의 원인을 찾을 수 있기 때문이다. 예를들어 사격을 한다고 쳐도 
분산을 먼저 작게 한다(영점사격) 그래야 가늠좌가 어느 부분만큼 옮겨야한다는 문제해결이 가능하기 때문.

- 학교까지 가는 길이 A길과 B길이 있다. 평균 시간을 비교할 수도있지만 분산 차이도 고려해보자.
만약 평균값이 작아도 분산이 크면 학교에 지각할 확률이 높아질 수도 있기 때문이지요.
A길의 데이터 7개, 평균 58.29, 표준편차 8.99. B길의 데이터 8개, 평균 59, 표준편차 4.37

1. 가설 세우기
- H0 : V1 = V2
- H1 : V1 != V2

2 유의수준
0.10

3. 검정통계량
두 집단의 분산비교이기 때문에 F 분포 사용

4. 디시젼룰
F(6,7) =  3.866

5. 계산
F = (8.99)^2/(4.37)^2 = 4.23  
분산값의 차이가 있으며 작은 놈으로 가는게 맞을듯!  


- 암묵적 룰
큰놈을 분자에놓고 단측검정만 하자( 분산이 작다는건 어쩌피 좋은거니까 )



## references 
경영통계 / 유태종 교수님











