---
layout : post
title : "biz_statistics_sampling"
categories : Data Science
tags : Basic statistics
---

## Terminology

- Sampling error : 표본오차 ( 우리반 30명중에 10명 표본을 뽑아서 몸무게를 잰다고 했을때 모집단의 몸무게와의 차이,
즉, 표본을 사용함으로써 생기는 오차)

- Non-sampling error : 비표본오차 ( 모델링을 잘못하거나 배경지식이 잘못되어 생기는 오차 / 이론적으로 잘못된 접근)

- Bias : 편의 (표본 추출할 때 가장 신경써야 하는 부분 -> 상명대 키평균 구하고싶은데 농구부 애들의 키를 재다니?? / 즉, unbiased하게 뽑아야 함)

- Probability sampling : 확률 표본 추출법
- Simple random sampling : 단순 무작위 추출법
- Statified sampling : 층별 추출법
- Cluster sampling : 군집 추출법
- Systemic sampling : 체계적 추출법

- Sampling distribution : 표본분포
- Central limit theorem : 중심극한정리
- Degree of freedom : 자유도


## Objective

- 샘플의 중요성
- 샘플링 방법
- 표본 오차
- 표본 평균의 표본분포
- 중심극한정리
- 평균의 표준오차


## 확률적 표본추출

1 부터 백만까지의 숫자에 1000개를 뽑으라고 사람에게 시키면? 사람은 편향되지 않게 동일한 확률로 뽑을 수 없다.  

#### 단순 무작위 추출
모집단의 구성분자들이 선택될 가능성이 모두 동일한 확률로 구성되도록 하는 표본 추출 방법.  
난수생성을 통해 무작위 표본추출을 할 수 있다.

#### 체계적 무작위표본 추출
모집단을 특정 기준에 의해서 여러개의 집단으로 나누고 집단 내에서 임의적으로 샘플링하는 것.  
예를 들어 1000명의 종사자를 6개의 집단(동일한 크기로 구분)으로 나누고 각각의 집단별 동일한 순서의 10명씩 추출하는 것.  
무작위 추출시 특정 집단에 몰려 뽑히는 것을 방지할 수 있음. 집단별 차이를 알아보고 싶을때 유용.

#### 층화 표본추출
모집단을 몇 개의 계층으로 나눠봤는데 계층별로 갯수가 현저히 다름.
c1 = 50명, c2 = 30, c3 = 20 이라고 가정하면 각계층의 비율에 맞게 
10명을 뽑는다고 하면 c1에서 5명 c2에서 3명 c3에서 2명을 뽑는 방식.
c3에서 10명이 다뽑힌다면 c1,c2의 성격을 반영하지 못하는 문제가 생기기 때문이다.

#### 군집 표본추출
모집단을 특징으로 구분하여서 n개 집단중에서 랜덤하게 k개의 집단을 뽑는 방식.
뽑히지 않은 집단의 특성을 반영하지 못하는 문제가 생겨서 추천을 안하신다고 함.
데이터가 너무 큰경우에 쓰는 것 같다.




## 표본 오차
상명대 전체의 몸무게가 얼마지?? 궁금해서 우리반의 50명을 표본 으로 뽑음.  
ex) 표본평균 - 모평균 / 표본 표준편차 - 모 표준편차 / 표본 분산 - 모 분산 / 표본비율 - 모비율  

**그럼 표본오차를 줄이기 위해서 어떻게 해야할까요??**  
표본 샘플링을 한번만 하는게 아닙니다. 10000명중에서 50명 뽑는 것을 10번을 실행하는 것이 좋은 것이죠.

#### 중심극한 정리
모집단에서 추출된 표본의 평균을 산출해서 만들어진 표본 분포는 항상 정규분포에 근사하다.
특히 샘플링의 사이즈가 커질수록 / 샘플링을 여러번 할 수록 정규분포에 가까워짐.

- 모집단이 정규분포면 당연히 표본 평균도 정규분포
- 모집단이 정규분포가 아니라면? 샘플링을 일정 사이즈 이상하면 정규분포를 따름
- 그래서 표본평균의 평균은 모집단의 평균과 같고 분산은 sd^2/n 임. n이 클수록 분산이 작아진다는 것을 알 수 있음.

=> 샘플링을 하는 이유는 처음에는 전수조사가 불가해서 샘플링을 한 건데, 표본추출 한것이 중심극한정리에 의해 
정규분포의 형태를 띄기 때문에 모집단 추측 가능  

## 표본 분포의 적용 (모집단의 분산을 알때)
중심극한 정리에 의해 표본 평균의 표본분포는 정규분포를 따른다는 것을 알았는데요.
그를 통해 표준정규분포로 변환할 수 있습니다.
근데 모집단을 몰라서 샘플링을 하는데 모집단을 분산을 안다고 가정하는게 사실 말이 안됨.

![z](/assets/z.PNG)
*하.. LATEX 수식빨리 배우자..*

- 모집단의 분산을 아는 경우 : 기업이 뭘 만들때 스펙이라는 것을 미리 정함(분산값도 미리 정함).
예를 들어 모니터의 길이가 31.2cm를 만들어야하지만 +- 0.4cm 표준편차 까지는 봐준다라고 정함(정규분포 가정).
그래서 16개의 모니터를 살펴서 평균을 구해보니 31.38cm 이네? 이게 문제일까??  

```
Z= (31.38 - 31.2) / (0.4/SQRT(16)) = 1.8
```

- Z가 1.8이면 표준정규분포 그려보면 약 96.5%정도의 지점
- 그니까 지금은 4%의 확률로 일어날만한 일이 일어난 거임(정상적인 상황이 아닌거)
- Z가 0에 가깝게 나오면 우리가 정한 31.2cm에 가깝게 나오는 거고
- 최근엔 품질경영 관련해서 센서데이터 활용해서 전수조사 한다고함


## 표본 분포의 적용 (모집단의 분산을 모를때)
대부분은 모집단의 분산을 모르니까 표본의 분산을 갖고 조정하는 접근 방식의 Distribution이 t분포.




## 앞으로 우리가 쓸 네가지 분포(다음에 다시)

- Z분포
모집단의 평균과 표본의 평균을 비교하기 위한 목적.
표본을 이렇게 뽑아 봤더니 모집단의 평균하고 차이가 있구나.
있으면 얼마나 있구나. 판단하기위해 활용.

- 카이제곱분포  
모집단의 분산과 표본의 분산을 비교하기 위한 목적.

- T분포  
정규분포를 카이스퀘어로 나눈거...? 
모집단의 분산을 몰라서 정규분포를 활용할 수 없기 때문에 대체할만한 분포.
정규분포와 쓰임은 같다

- F분포  
두 집단의 분산을 비교하기 위해 사용.



#### 자유도?
주어진 조건 하에서 자유롭게 변화할 수 있는 변수의 수.






## references
경영통계 / 유태종교수님







